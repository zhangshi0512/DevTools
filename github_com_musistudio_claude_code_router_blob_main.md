# https://github.com/musistudio/claude-code-router/blob/main/README_zh.md

*Generated on: 2025-07-21 23:17:36*

[Skip to content](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#start-of-content)
## Navigation Menu
Toggle navigation
[ ](https://github.com/)
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fmusistudio%2Fclaude-code-router%2Fblob%2Fmain%2FREADME_zh.md)
Appearance settings
  * Product 
    * [ GitHub Copilot  Write better code with AI  ](https://github.com/features/copilot)
    * [ GitHub Models  New  Manage and compare prompts  ](https://github.com/features/models)
    * [ GitHub Advanced Security  Find and fix vulnerabilities  ](https://github.com/security/advanced-security)
    * [ Actions  Automate any workflow  ](https://github.com/features/actions)
    * [ Codespaces  Instant dev environments  ](https://github.com/features/codespaces)
    * [ Issues  Plan and track work  ](https://github.com/features/issues)
    * [ Code Review  Manage code changes  ](https://github.com/features/code-review)
    * [ Discussions  Collaborate outside of code  ](https://github.com/features/discussions)
    * [ Code Search  Find more, search less  ](https://github.com/features/code-search)
Explore
    * [ Why GitHub ](https://github.com/why-github)
    * [ All features ](https://github.com/features)
    * [ Documentation ](https://docs.github.com)
    * [ GitHub Skills ](https://skills.github.com)
    * [ Blog ](https://github.blog)
  * Solutions 
By company size
    * [ Enterprises ](https://github.com/enterprise)
    * [ Small and medium teams ](https://github.com/team)
    * [ Startups ](https://github.com/enterprise/startups)
    * [ Nonprofits ](https://github.com/solutions/industry/nonprofits)
By use case
    * [ DevSecOps ](https://github.com/solutions/use-case/devsecops)
    * [ DevOps ](https://github.com/solutions/use-case/devops)
    * [ CI/CD ](https://github.com/solutions/use-case/ci-cd)
    * [ View all use cases ](https://github.com/solutions/use-case)
By industry
    * [ Healthcare ](https://github.com/solutions/industry/healthcare)
    * [ Financial services ](https://github.com/solutions/industry/financial-services)
    * [ Manufacturing ](https://github.com/solutions/industry/manufacturing)
    * [ Government ](https://github.com/solutions/industry/government)
    * [ View all industries ](https://github.com/solutions/industry)
[ View all solutions ](https://github.com/solutions)
  * Resources 
Topics
    * [ AI ](https://github.com/resources/articles/ai)
    * [ DevOps ](https://github.com/resources/articles/devops)
    * [ Security ](https://github.com/resources/articles/security)
    * [ Software Development ](https://github.com/resources/articles/software-development)
    * [ View all ](https://github.com/resources/articles)
Explore
    * [ Learning Pathways ](https://resources.github.com/learn/pathways)
    * [ Events & Webinars ](https://resources.github.com)
    * [ Ebooks & Whitepapers ](https://github.com/resources/whitepapers)
    * [ Customer Stories ](https://github.com/customer-stories)
    * [ Partners ](https://partner.github.com)
    * [ Executive Insights ](https://github.com/solutions/executive-insights)
  * Open Source 
    * [ GitHub Sponsors  Fund open source developers  ](https://github.com/sponsors)
    * [ The ReadME Project  GitHub community articles  ](https://github.com/readme)
Repositories
    * [ Topics ](https://github.com/topics)
    * [ Trending ](https://github.com/trending)
    * [ Collections ](https://github.com/collections)
  * Enterprise 
    * [ Enterprise platform  AI-powered developer platform  ](https://github.com/enterprise)
Available add-ons
    * [ GitHub Advanced Security  Enterprise-grade security features  ](https://github.com/security/advanced-security)
    * [ Copilot for business  Enterprise-grade AI features  ](https://github.com/features/copilot/copilot-business)
    * [ Premium Support  Enterprise-grade 24/7 support  ](https://github.com/premium-support)
  * [Pricing](https://github.com/pricing)


Search or jump to...
# Search code, repositories, users, issues, pull requests...
Search 
Clear
[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)
#  Provide feedback 
We read every piece of feedback, and take your input very seriously.
Include my email address so I can be contacted
Cancel  Submit feedback 
#  Saved searches 
## Use saved searches to filter your results more quickly
Name
Query
To see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax). 
Cancel  Create saved search 
[ Sign in ](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fmusistudio%2Fclaude-code-router%2Fblob%2Fmain%2FREADME_zh.md)
[ Sign up ](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fblob%2Fshow&source=header-repo&source_repo=musistudio%2Fclaude-code-router)
Appearance settings
Resetting focus
You signed in with another tab or window. [Reload](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md) to refresh your session. You signed out in another tab or window. [Reload](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md) to refresh your session. You switched accounts on another tab or window. [Reload](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md) to refresh your session. Dismiss alert
{{ message }}
[ musistudio ](https://github.com/musistudio) / **[claude-code-router](https://github.com/musistudio/claude-code-router) ** Public
  * [ ](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router) You must be signed in to change notification settings
  * [ 495 ](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)
  * [ Star  6.6k ](https://github.com/login?return_to=%2Fmusistudio%2Fclaude-code-router)


  * [ Code ](https://github.com/musistudio/claude-code-router)
  * [ Issues 142 ](https://github.com/musistudio/claude-code-router/issues)
  * [ Pull requests 9 ](https://github.com/musistudio/claude-code-router/pulls)
  * [ Actions ](https://github.com/musistudio/claude-code-router/actions)
  * [ Projects 0 ](https://github.com/musistudio/claude-code-router/projects)
  * [ Security ](https://github.com/musistudio/claude-code-router/security)
[ ](https://github.com/musistudio/claude-code-router/security)
[ ](https://github.com/musistudio/claude-code-router/security)
[ ](https://github.com/musistudio/claude-code-router/security)
### [ Uh oh!  ](https://github.com/musistudio/claude-code-router/security)
[There was an error while loading. ](https://github.com/musistudio/claude-code-router/security)[Please reload this page](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md).
  * [ Insights ](https://github.com/musistudio/claude-code-router/pulse)


Additional navigation options
  * [ Code  ](https://github.com/musistudio/claude-code-router)
  * [ Issues  ](https://github.com/musistudio/claude-code-router/issues)
  * [ Pull requests  ](https://github.com/musistudio/claude-code-router/pulls)
  * [ Actions  ](https://github.com/musistudio/claude-code-router/actions)
  * [ Projects  ](https://github.com/musistudio/claude-code-router/projects)
  * [ Security  ](https://github.com/musistudio/claude-code-router/security)
  * [ Insights  ](https://github.com/musistudio/claude-code-router/pulse)


## Collapse file tree
## Files
main
Search this repository
  * blog
  * src
  * .dockerignore
  * .gitignore
  * .npmignore
  * CLAUDE.md
  * LICENSE
  * README.md
  * README_zh.md
  * config.example.json
  * custom-router.example.js
  * docker-compose.yml
  * dockerfile
  * package-lock.json
  * package.json
  * pnpm-lock.yaml
  * tsconfig.json


## Breadcrumbs
  1. [claude-code-router](https://github.com/musistudio/claude-code-router/tree/main)


/
# README_zh.md
Copy path
BlameMore file actions
BlameMore file actions
## Latest commit
[![musistudio](https://avatars.githubusercontent.com/u/21162426?v=4&size=40)](https://github.com/musistudio)[musistudio](https://github.com/musistudio/claude-code-router/commits?author=musistudio)
[add custom router doc](https://github.com/musistudio/claude-code-router/commit/09c3f0ccc636ba61571f191e7a726c9a3d328b1a)
Jul 21, 2025
[09c3f0c](https://github.com/musistudio/claude-code-router/commit/09c3f0ccc636ba61571f191e7a726c9a3d328b1a) Â· Jul 21, 2025
## History
[History](https://github.com/musistudio/claude-code-router/commits/main/README_zh.md)
Open commit details
[](https://github.com/musistudio/claude-code-router/commits/main/README_zh.md)
384 lines (317 loc) Â· 12.3 KB
## Breadcrumbs
  1. [claude-code-router](https://github.com/musistudio/claude-code-router/tree/main)


/
# README_zh.md
Top
## File metadata and controls
  * Preview
  * Code
  * Blame


384 lines (317 loc) Â· 12.3 KB
[Raw](https://github.com/musistudio/claude-code-router/raw/refs/heads/main/README_zh.md)
Copy raw file
Download raw file
Outline
Edit and raw actions
# Claude Code Router
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#claude-code-router)
> ä¸€æ¬¾å¼ºå¤§çš„å·¥å…·ï¼Œå¯å°† Claude Code è¯·æ±‚è·¯ç”±åˆ°ä¸åŒçš„æ¨¡å‹ï¼Œå¹¶è‡ªå®šä¹‰ä»»ä½•è¯·æ±‚ã€‚
[![](https://github.com/musistudio/claude-code-router/raw/main/blog/images/claude-code.png)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/claude-code.png)
## âœ¨ åŠŸèƒ½
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#-%E5%8A%9F%E8%83%BD)
  * **æ¨¡å‹è·¯ç”±** : æ ¹æ®æ‚¨çš„éœ€æ±‚å°†è¯·æ±‚è·¯ç”±åˆ°ä¸åŒçš„æ¨¡å‹ï¼ˆä¾‹å¦‚ï¼Œåå°ä»»åŠ¡ã€æ€è€ƒã€é•¿ä¸Šä¸‹æ–‡ï¼‰ã€‚
  * **å¤šæä¾›å•†æ”¯æŒ** : æ”¯æŒ OpenRouterã€DeepSeekã€Ollamaã€Geminiã€Volcengine å’Œ SiliconFlow ç­‰å„ç§æ¨¡å‹æä¾›å•†ã€‚
  * **è¯·æ±‚/å“åº”è½¬æ¢** : ä½¿ç”¨è½¬æ¢å™¨ä¸ºä¸åŒçš„æä¾›å•†è‡ªå®šä¹‰è¯·æ±‚å’Œå“åº”ã€‚
  * **åŠ¨æ€æ¨¡å‹åˆ‡æ¢** : åœ¨ Claude Code ä¸­ä½¿ç”¨ `/model` å‘½ä»¤åŠ¨æ€åˆ‡æ¢æ¨¡å‹ã€‚
  * **GitHub Actions é›†æˆ** : åœ¨æ‚¨çš„ GitHub å·¥ä½œæµç¨‹ä¸­è§¦å‘ Claude Code ä»»åŠ¡ã€‚
  * **æ’ä»¶ç³»ç»Ÿ** : ä½¿ç”¨è‡ªå®šä¹‰è½¬æ¢å™¨æ‰©å±•åŠŸèƒ½ã€‚


## ğŸš€ å¿«é€Ÿå…¥é—¨
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8)
### 1. å®‰è£…
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#1-%E5%AE%89%E8%A3%85)
é¦–å…ˆï¼Œè¯·ç¡®ä¿æ‚¨å·²å®‰è£… [Claude Code](https://docs.anthropic.com/en/docs/claude-code/quickstart)ï¼š
```
npm install -g @anthropic-ai/claude-code
```

ç„¶åï¼Œå®‰è£… Claude Code Routerï¼š
```
npm install -g @musistudio/claude-code-router
```

### 2. é…ç½®
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#2-%E9%85%8D%E7%BD%AE)
åˆ›å»ºå¹¶é…ç½®æ‚¨çš„ `~/.claude-code-router/config.json` æ–‡ä»¶ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œæ‚¨å¯ä»¥å‚è€ƒ `config.example.json`ã€‚
`config.json` æ–‡ä»¶æœ‰å‡ ä¸ªå…³é”®éƒ¨åˆ†ï¼š
  * **`PROXY_URL`**(å¯é€‰): æ‚¨å¯ä»¥ä¸º API è¯·æ±‚è®¾ç½®ä»£ç†ï¼Œä¾‹å¦‚ï¼š`"PROXY_URL": "http://127.0.0.1:7890"` ã€‚
  * **`LOG`**(å¯é€‰): æ‚¨å¯ä»¥é€šè¿‡å°†å…¶è®¾ç½®ä¸º`true` æ¥å¯ç”¨æ—¥å¿—è®°å½•ã€‚æ—¥å¿—æ–‡ä»¶å°†ä½äº `$HOME/.claude-code-router.log`ã€‚
  * **`APIKEY`**(å¯é€‰): æ‚¨å¯ä»¥è®¾ç½®ä¸€ä¸ªå¯†é’¥æ¥è¿›è¡Œèº«ä»½éªŒè¯ã€‚è®¾ç½®åï¼Œå®¢æˆ·ç«¯è¯·æ±‚å¿…é¡»åœ¨`Authorization` è¯·æ±‚å¤´ (ä¾‹å¦‚, `Bearer your-secret-key`) æˆ– `x-api-key` è¯·æ±‚å¤´ä¸­æä¾›æ­¤å¯†é’¥ã€‚ä¾‹å¦‚ï¼š`"APIKEY": "your-secret-key"`ã€‚
  * **`HOST`**(å¯é€‰): æ‚¨å¯ä»¥è®¾ç½®æœåŠ¡çš„ä¸»æœºåœ°å€ã€‚å¦‚æœæœªè®¾ç½®`APIKEY` ï¼Œå‡ºäºå®‰å…¨è€ƒè™‘ï¼Œä¸»æœºåœ°å€å°†å¼ºåˆ¶è®¾ç½®ä¸º `127.0.0.1`ï¼Œä»¥é˜²æ­¢æœªç»æˆæƒçš„è®¿é—®ã€‚ä¾‹å¦‚ï¼š`"HOST": "0.0.0.0"`ã€‚
  * **`Providers`**: ç”¨äºé…ç½®ä¸åŒçš„æ¨¡å‹æä¾›å•†ã€‚
  * **`Router`**: ç”¨äºè®¾ç½®è·¯ç”±è§„åˆ™ã€‚`default` æŒ‡å®šé»˜è®¤æ¨¡å‹ï¼Œå¦‚æœæœªé…ç½®å…¶ä»–è·¯ç”±ï¼Œåˆ™è¯¥æ¨¡å‹å°†ç”¨äºæ‰€æœ‰è¯·æ±‚ã€‚


è¿™æ˜¯ä¸€ä¸ªç»¼åˆç¤ºä¾‹ï¼š
```
{
  "APIKEY": "your-secret-key",
  "PROXY_URL": "http://127.0.0.1:7890",
  "LOG": true,
  "Providers": [
    {
      "name": "openrouter",
      "api_base_url": "https://openrouter.ai/api/v1/chat/completions",
      "api_key": "sk-xxx",
      "models": [
        "google/gemini-2.5-pro-preview",
        "anthropic/claude-sonnet-4",
        "anthropic/claude-3.5-sonnet",
        "anthropic/claude-3.7-sonnet:thinking"
      ],
      "transformer": {
        "use": ["openrouter"]
      }
    },
    {
      "name": "deepseek",
      "api_base_url": "https://api.deepseek.com/chat/completions",
      "api_key": "sk-xxx",
      "models": ["deepseek-chat", "deepseek-reasoner"],
      "transformer": {
        "use": ["deepseek"],
        "deepseek-chat": {
          "use": ["tooluse"]
        }
      }
    },
    {
      "name": "ollama",
      "api_base_url": "http://localhost:11434/v1/chat/completions",
      "api_key": "ollama",
      "models": ["qwen2.5-coder:latest"]
    },
    {
      "name": "gemini",
      "api_base_url": "https://generativelanguage.googleapis.com/v1beta/models/",
      "api_key": "sk-xxx",
      "models": ["gemini-2.5-flash", "gemini-2.5-pro"],
      "transformer": {
        "use": ["gemini"]
      }
    },
    {
      "name": "volcengine",
      "api_base_url": "https://ark.cn-beijing.volces.com/api/v3/chat/completions",
      "api_key": "sk-xxx",
      "models": ["deepseek-v3-250324", "deepseek-r1-250528"],
      "transformer": {
        "use": ["deepseek"]
      }
    }
  ],
  "Router": {
    "default": "deepseek,deepseek-chat",
    "background": "ollama,qwen2.5-coder:latest",
    "think": "deepseek,deepseek-reasoner",
    "longContext": "openrouter,google/gemini-2.5-pro-preview",
    "webSearch": "gemini,gemini-2.5-flash"
  }
}
```

### 3. ä½¿ç”¨ Router è¿è¡Œ Claude Code
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#3-%E4%BD%BF%E7%94%A8-router-%E8%BF%90%E8%A1%8C-claude-code)
ä½¿ç”¨ router å¯åŠ¨ Claude Codeï¼š
```
ccr code
```

#### Providers
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#providers)
`Providers` æ•°ç»„æ˜¯æ‚¨å®šä¹‰è¦ä½¿ç”¨çš„ä¸åŒæ¨¡å‹æä¾›å•†çš„åœ°æ–¹ã€‚æ¯ä¸ªæä¾›å•†å¯¹è±¡éƒ½éœ€è¦ï¼š
  * `name`: æä¾›å•†çš„å”¯ä¸€åç§°ã€‚
  * `api_base_url`: èŠå¤©è¡¥å…¨çš„å®Œæ•´ API ç«¯ç‚¹ã€‚
  * `api_key`: æ‚¨æä¾›å•†çš„ API å¯†é’¥ã€‚
  * `models`: æ­¤æä¾›å•†å¯ç”¨çš„æ¨¡å‹åç§°åˆ—è¡¨ã€‚
  * `transformer` (å¯é€‰): æŒ‡å®šç”¨äºå¤„ç†è¯·æ±‚å’Œå“åº”çš„è½¬æ¢å™¨ã€‚


#### Transformers
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#transformers)
Transformers å…è®¸æ‚¨ä¿®æ”¹è¯·æ±‚å’Œå“åº”è´Ÿè½½ï¼Œä»¥ç¡®ä¿ä¸ä¸åŒæä¾›å•† API çš„å…¼å®¹æ€§ã€‚
  * **å…¨å±€ Transformer** : å°†è½¬æ¢å™¨åº”ç”¨äºæä¾›å•†çš„æ‰€æœ‰æ¨¡å‹ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ`openrouter` è½¬æ¢å™¨å°†åº”ç”¨äº `openrouter` æä¾›å•†ä¸‹çš„æ‰€æœ‰æ¨¡å‹ã€‚
```
 {
   "name": "openrouter",
   "api_base_url": "https://openrouter.ai/api/v1/chat/completions",
   "api_key": "sk-xxx",
   "models": [
     "google/gemini-2.5-pro-preview",
     "anthropic/claude-sonnet-4",
     "anthropic/claude-3.5-sonnet"
   ],
   "transformer": { "use": ["openrouter"] }
 }
```

  * **ç‰¹å®šäºæ¨¡å‹çš„ Transformer** : å°†è½¬æ¢å™¨åº”ç”¨äºç‰¹å®šæ¨¡å‹ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ`deepseek` è½¬æ¢å™¨åº”ç”¨äºæ‰€æœ‰æ¨¡å‹ï¼Œè€Œé¢å¤–çš„ `tooluse` è½¬æ¢å™¨ä»…åº”ç”¨äº `deepseek-chat` æ¨¡å‹ã€‚
```
 {
   "name": "deepseek",
   "api_base_url": "https://api.deepseek.com/chat/completions",
   "api_key": "sk-xxx",
   "models": ["deepseek-chat", "deepseek-reasoner"],
   "transformer": {
     "use": ["deepseek"],
     "deepseek-chat": { "use": ["tooluse"] }
   }
 }
```

  * **å‘ Transformer ä¼ é€’é€‰é¡¹** : æŸäº›è½¬æ¢å™¨ï¼ˆå¦‚ `maxtoken`ï¼‰æ¥å—é€‰é¡¹ã€‚è¦ä¼ é€’é€‰é¡¹ï¼Œè¯·ä½¿ç”¨åµŒå¥—æ•°ç»„ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è½¬æ¢å™¨åç§°ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯é€‰é¡¹å¯¹è±¡ã€‚
```
{
  "name": "siliconflow",
  "api_base_url": "https://api.siliconflow.cn/v1/chat/completions",
  "api_key": "sk-xxx",
  "models": ["moonshotai/Kimi-K2-Instruct"],
  "transformer": {
    "use": [
      [
        "maxtoken",
        {
          "max_tokens": 16384
        }
      ]
    ]
  }
}
```



**å¯ç”¨çš„å†…ç½® Transformerï¼š**
  * `deepseek`: é€‚é… DeepSeek API çš„è¯·æ±‚/å“åº”ã€‚
  * `gemini`: é€‚é… Gemini API çš„è¯·æ±‚/å“åº”ã€‚
  * `openrouter`: é€‚é… OpenRouter API çš„è¯·æ±‚/å“åº”ã€‚
  * `groq`: é€‚é… groq API çš„è¯·æ±‚/å“åº”
  * `maxtoken`: è®¾ç½®ç‰¹å®šçš„ `max_tokens` å€¼ã€‚
  * `tooluse`: ä¼˜åŒ–æŸäº›æ¨¡å‹çš„å·¥å…·ä½¿ç”¨(é€šè¿‡`tool_choice`å‚æ•°)ã€‚
  * `gemini-cli` (å®éªŒæ€§): é€šè¿‡ Gemini CLI [gemini-cli.js](https://gist.github.com/musistudio/1c13a65f35916a7ab690649d3df8d1cd) å¯¹ Gemini çš„éå®˜æ–¹æ”¯æŒã€‚


**è‡ªå®šä¹‰ Transformer:**
æ‚¨è¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„è½¬æ¢å™¨ï¼Œå¹¶é€šè¿‡ `config.json` ä¸­çš„ `transformers` å­—æ®µåŠ è½½å®ƒä»¬ã€‚
```
{
  "transformers": [
      {
        "path": "$HOME/.claude-code-router/plugins/gemini-cli.js",
        "options": {
          "project": "xxx"
        }
      }
  ]
}
```

#### Router
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#router)
`Router` å¯¹è±¡å®šä¹‰äº†åœ¨ä¸åŒåœºæ™¯ä¸‹ä½¿ç”¨å“ªä¸ªæ¨¡å‹ï¼š
  * `default`: ç”¨äºå¸¸è§„ä»»åŠ¡çš„é»˜è®¤æ¨¡å‹ã€‚
  * `background`: ç”¨äºåå°ä»»åŠ¡çš„æ¨¡å‹ã€‚è¿™å¯ä»¥æ˜¯ä¸€ä¸ªè¾ƒå°çš„æœ¬åœ°æ¨¡å‹ä»¥èŠ‚çœæˆæœ¬ã€‚
  * `think`: ç”¨äºæ¨ç†å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚è®¡åˆ’æ¨¡å¼ï¼‰çš„æ¨¡å‹ã€‚
  * `longContext`: ç”¨äºå¤„ç†é•¿ä¸Šä¸‹æ–‡ï¼ˆä¾‹å¦‚ï¼Œ> 60K ä»¤ç‰Œï¼‰çš„æ¨¡å‹ã€‚
  * `webSearch`: ç”¨äºå¤„ç†ç½‘ç»œæœç´¢ä»»åŠ¡ï¼Œéœ€è¦æ¨¡å‹æœ¬èº«æ”¯æŒã€‚å¦‚æœä½¿ç”¨`openrouter`éœ€è¦åœ¨æ¨¡å‹åé¢åŠ ä¸Š`:online`åç¼€ã€‚


æ‚¨è¿˜å¯ä»¥ä½¿ç”¨ `/model` å‘½ä»¤åœ¨ Claude Code ä¸­åŠ¨æ€åˆ‡æ¢æ¨¡å‹ï¼š `/model provider_name,model_name` ç¤ºä¾‹: `/model openrouter,anthropic/claude-3.5-sonnet`
#### è‡ªå®šä¹‰è·¯ç”±å™¨
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1%E5%99%A8)
å¯¹äºæ›´é«˜çº§çš„è·¯ç”±é€»è¾‘ï¼Œæ‚¨å¯ä»¥åœ¨ `config.json` ä¸­é€šè¿‡ `CUSTOM_ROUTER_PATH` å­—æ®µæŒ‡å®šä¸€ä¸ªè‡ªå®šä¹‰è·¯ç”±å™¨è„šæœ¬ã€‚è¿™å…è®¸æ‚¨å®ç°è¶…å‡ºé»˜è®¤åœºæ™¯çš„å¤æ‚è·¯ç”±è§„åˆ™ã€‚
åœ¨æ‚¨çš„ `config.json` ä¸­é…ç½®:
```
{
  "CUSTOM_ROUTER_PATH": "$HOME/.claude-code-router/custom-router.js"
}
```

è‡ªå®šä¹‰è·¯ç”±å™¨æ–‡ä»¶å¿…é¡»æ˜¯ä¸€ä¸ªå¯¼å‡º `async` å‡½æ•°çš„ JavaScript æ¨¡å—ã€‚è¯¥å‡½æ•°æ¥æ”¶è¯·æ±‚å¯¹è±¡å’Œé…ç½®å¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¹¶åº”è¿”å›æä¾›å•†å’Œæ¨¡å‹åç§°çš„å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ `"provider_name,model_name"`ï¼‰ï¼Œå¦‚æœè¿”å› `null` åˆ™å›é€€åˆ°é»˜è®¤è·¯ç”±ã€‚
è¿™æ˜¯ä¸€ä¸ªåŸºäº `custom-router.example.js` çš„ `custom-router.js` ç¤ºä¾‹ï¼š
```
// $HOME/.claude-code-router/custom-router.js

/**
 * ä¸€ä¸ªè‡ªå®šä¹‰è·¯ç”±å‡½æ•°ï¼Œç”¨äºæ ¹æ®è¯·æ±‚ç¡®å®šä½¿ç”¨å“ªä¸ªæ¨¡å‹ã€‚
 *
 * @param {object} req - æ¥è‡ª Claude Code çš„è¯·æ±‚å¯¹è±¡ï¼ŒåŒ…å«è¯·æ±‚ä½“ã€‚
 * @param {object} config - åº”ç”¨ç¨‹åºçš„é…ç½®å¯¹è±¡ã€‚
 * @returns {Promise<string|null>} - ä¸€ä¸ªè§£æä¸º "provider,model_name" å­—ç¬¦ä¸²çš„ Promiseï¼Œå¦‚æœè¿”å› nullï¼Œåˆ™ä½¿ç”¨é»˜è®¤è·¯ç”±ã€‚
 */
module.exports = async function router(req, config) {
  const userMessage = req.body.messages.find(m => m.role === 'user')?.content;

  if (userMessage && userMessage.includes('è§£é‡Šè¿™æ®µä»£ç ')) {
    // ä¸ºä»£ç è§£é‡Šä»»åŠ¡ä½¿ç”¨æ›´å¼ºå¤§çš„æ¨¡å‹
    return 'openrouter,anthropic/claude-3.5-sonnet';
  }

  // å›é€€åˆ°é»˜è®¤çš„è·¯ç”±é…ç½®
  return null;
};
```

## ğŸ¤– GitHub Actions
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#-github-actions)
å°† Claude Code Router é›†æˆåˆ°æ‚¨çš„ CI/CD ç®¡é“ä¸­ã€‚åœ¨è®¾ç½® [Claude Code Actions](https://docs.anthropic.com/en/docs/claude-code/github-actions) åï¼Œä¿®æ”¹æ‚¨çš„ `.github/workflows/claude.yaml` ä»¥ä½¿ç”¨è·¯ç”±å™¨ï¼š
```
name: Claude Code

on:
  issue_comment:
    types: [created]
  # ... other triggers

jobs:
  claude:
    if: |
      (github.event_name == 'issue_comment' && contains(github.event.comment.body, '@claude')) ||
      # ... other conditions
runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: read
      issues: read
      id-token: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 1

      - name: Prepare Environment
        run: |
          curl -fsSL https://bun.sh/install | bash
          mkdir -p $HOME/.claude-code-router
          cat << 'EOF' > $HOME/.claude-code-router/config.json
          {
            "log": true,
            "OPENAI_API_KEY": "${{ secrets.OPENAI_API_KEY }}",
            "OPENAI_BASE_URL": "https://api.deepseek.com",
            "OPENAI_MODEL": "deepseek-chat"
          }
          EOF
shell: bash

      - name: Start Claude Code Router
        run: |
          nohup ~/.bun/bin/bunx @musistudio/claude-code-router@1.0.8 start &
shell: bash

      - name: Run Claude Code
        id: claude
        uses: anthropics/claude-code-action@beta
        env:
          ANTHROPIC_BASE_URL: http://localhost:3456
        with:
          anthropic_api_key: "any-string-is-ok"
```

è¿™ç§è®¾ç½®å¯ä»¥å®ç°æœ‰è¶£çš„è‡ªåŠ¨åŒ–ï¼Œä¾‹å¦‚åœ¨éé«˜å³°æ—¶æ®µè¿è¡Œä»»åŠ¡ä»¥é™ä½ API æˆæœ¬ã€‚
## ğŸ“ æ·±å…¥é˜…è¯»
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#-%E6%B7%B1%E5%85%A5%E9%98%85%E8%AF%BB)
  * [é¡¹ç›®åŠ¨æœºå’Œå·¥ä½œåŸç†](https://github.com/musistudio/claude-code-router/blob/main/blog/zh/%E9%A1%B9%E7%9B%AE%E5%88%9D%E8%A1%B7%E5%8F%8A%E5%8E%9F%E7%90%86.md)
  * [ä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥ç”¨è·¯ç”±å™¨åšæ›´å¤šäº‹æƒ…](https://github.com/musistudio/claude-code-router/blob/main/blog/zh/%E6%88%96%E8%AE%B8%E6%88%91%E4%BB%AC%E8%83%BD%E5%9C%A8Router%E4%B8%AD%E5%81%9A%E6%9B%B4%E5%A4%9A%E4%BA%8B%E6%83%85.md)


## â¤ï¸ æ”¯æŒä¸èµåŠ©
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#%EF%B8%8F-%E6%94%AF%E6%8C%81%E4%B8%8E%E8%B5%9E%E5%8A%A9)
å¦‚æœæ‚¨è§‰å¾—è¿™ä¸ªé¡¹ç›®æœ‰å¸®åŠ©ï¼Œè¯·è€ƒè™‘èµåŠ©å®ƒçš„å¼€å‘ã€‚éå¸¸æ„Ÿè°¢æ‚¨çš„æ”¯æŒï¼
[![ko-fi](https://camo.githubusercontent.com/70e2ef5e0263b261f9a2a314bb1d6919d1d43292eed117fe8fc766a68c7d96ea/68747470733a2f2f6b6f2d66692e636f6d2f696d672f676974687562627574746f6e5f736d2e737667)](https://ko-fi.com/F1F31GN2GM)
[![Alipay](https://github.com/musistudio/claude-code-router/raw/main/blog/images/alipay.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/alipay.jpg) | [![WeChat Pay](https://github.com/musistudio/claude-code-router/raw/main/blog/images/wechat.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/wechat.jpg)  
---|---  
### æˆ‘ä»¬çš„èµåŠ©å•†
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#%E6%88%91%E4%BB%AC%E7%9A%84%E8%B5%9E%E5%8A%A9%E5%95%86)
éå¸¸æ„Ÿè°¢æ‰€æœ‰èµåŠ©å•†çš„æ…·æ…¨æ”¯æŒï¼
  * @Simon Leischnig
  * [@duanshuaimin](https://github.com/duanshuaimin)
  * [@vrgitadmin](https://github.com/vrgitadmin)
  * @*o
  * [@ceilwoo](https://github.com/ceilwoo)
  * @*è¯´
  * @*æ›´
  * @K*g
  * @R*R
  * [@bobleer](https://github.com/bobleer)
  * @*è‹—
  * @*åˆ’
  * [@Clarence-pan](https://github.com/Clarence-pan)
  * [@carter003](https://github.com/carter003)
  * @S*r
  * @*æ™–
  * @*æ•
  * @Z*z
  * @*ç„¶
  * [@cluic](https://github.com/cluic)
  * @*è‹—
  * [@PromptExpert](https://github.com/PromptExpert)
  * @*åº”
  * [@yusnake](https://github.com/yusnake)
  * @*é£
  * @è‘£*
  * @*æ±€
  * @*æ¶¯
  * @*:-ï¼‰
  * @**ç£Š
  * @*ç¢
  * @*æˆ
  * @Z*o


ï¼ˆå¦‚æœæ‚¨çš„åå­—è¢«å±è”½ï¼Œè¯·é€šè¿‡æˆ‘çš„ä¸»é¡µç”µå­é‚®ä»¶ä¸æˆ‘è”ç³»ï¼Œä»¥ä¾¿ä½¿ç”¨æ‚¨çš„ GitHub ç”¨æˆ·åè¿›è¡Œæ›´æ–°ã€‚ï¼‰
## äº¤æµç¾¤
[](https://github.com/musistudio/claude-code-router/blob/main/README_zh.md#%E4%BA%A4%E6%B5%81%E7%BE%A4)
[![wechat_group](https://github.com/musistudio/claude-code-router/raw/main/blog/images/wechat_group.jpg)](https://github.com/musistudio/claude-code-router/blob/main/blog/images/wechat_group.jpg)
## Footer
[ ](https://github.com) Â© 2025 GitHub, Inc. 
### Footer navigation
  * [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)
  * [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)
  * [Security](https://github.com/security)
  * [Status](https://www.githubstatus.com/)
  * [Docs](https://docs.github.com/)
  * [Contact](https://support.github.com?tags=dotcom-footer)
  * Manage cookies 
  * Do not share my personal information 


